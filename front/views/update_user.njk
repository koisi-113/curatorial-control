{% extends "base.njk" %} {% block title %}ユーザー情報更新ページ{% endblock %}
{% block content %}
<h1 class="ml-5 fw-bold mb-10" style="color: orange">ユーザー情報の更新</h1>
<ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
  <li
    itemprop="itemListElement"
    itemscope
    itemtype="https://schema.org/ListItem"
  >
    <a itemprop="item" href="/top">
      <span itemprop="name">トップ</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>

  <li
    itemprop="itemListElement"
    itemscope
    itemtype="https://schema.org/ListItem"
  >
    <a itemprop="item" href="/top/users">
      <span itemprop="name">ユーザ一覧</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>

  <li
    itemprop="itemListElement"
    itemscope
    itemtype="https://schema.org/ListItem"
  >
    <a itemprop="item" href="/top/users/{{ user.id }}">
      <span itemprop="name">ユーザ編集</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
</ol>

<div class="d-flex justify-content-end mb-3">
  <form class＝"text-right" action="/top/users/{{ user.id }}?_method=DELETE" method="POST" style="display: inline; margin-left: auto">
    <button type="submit" class="btn btn-outline-danger btn-lg">
      削除
    </button>
  </form>
</div>

<form
  action="/top/users/{{ user.id }}?_method=PUT"
  method="POST"
  class="form-floating ml-4 mb-3"
>
  <input type="hidden" name="user_id" value="{{ user.id }}" />

  <div name="user-name">
    <label for="name" class="fs-3 mb-2 fw-semibold">名前</label>
    <input
      type="text"
      class="form-control"
      id="name"
      name="name"
      value="{{ user.name }}"
      required
      style="height: 30px; resize: none; padding: 10px; font-size: 14px"
    />
  </div>

  <div name="user-grade">
    <label for="grade" class="fs-3 mb-2 fw-semibold">学年</label>
    <select class="form-select" id="grade" name="grade" required>
      {% if user.grade == "B3" %}
      <option value="B3" selected>B3</option>
      <option value="B4">B4</option>
      <option value="M1">M1</option>
      <option value="M2">M2</option>
      {% elif user.grade == "B4" %}
      <option value="B3">B3</option>
      <option value="B4" selected>B4</option>
      <option value="M1">M1</option>
      <option value="M2">M2</option>
      {% elif user.grade == "M1" %}
      <option value="B3">B3</option>
      <option value="B4">B4</option>
      <option value="M1" selected>M1</option>
      <option value="M2">M2</option>
      {% elif user.grade == "M2" %}
      <option value="B3">B3</option>
      <option value="B4">B4</option>
      <option value="M1">M1</option>
      <option value="M2" selected>M2</option>
      {% endif %}
    </select>
  </div>

  <div style="display: flex; justify-content: space-between; margin-top: 20px">
    <button type="submit" class="btn btn-outline-danger btn-lg">
      更新する
    </button>
    
    <a href="/top/users" class="btn btn-outline-danger btn-lg"> キャンセル </a>
  </div>
</form>
{% endblock %}
